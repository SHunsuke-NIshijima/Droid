# DROID Desktop GUI - 画面イメージ

## GUIの構成

```
┌─────────────────────────────────────────────────────────────────────┐
│  DROID Desktop GUI                                          [_][□][X]│
├─────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ プロンプト (Prompt) *                                          │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │                                                               │  │
│  │  columns_output.xlsxに追加列としてinput_data.xlsxの各列の   │  │
│  │  ユニーク値の数を追加してください。                           │  │
│  │                                                               │  │
│  │                                                               │  │
│  │                                                               │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ オプション設定                                                 │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │                                                               │  │
│  │  作業ディレクトリ:    [.                          ] [参照]    │  │
│  │                                                               │  │
│  │  モデル:              [claude-sonnet-4-20250514  ▼]          │  │
│  │                                                               │  │
│  │  自動化レベル:        [medium                    ▼]          │  │
│  │                                                               │  │
│  │  ログディレクトリ:    [logs                       ] [参照]    │  │
│  │                                                               │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ 参照ファイル/フォルダ                                          │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ ┌─────────────────────────────────────────┐  ┌────────────┐ │  │
│  │ │ .\sample\input_data.xlsx                │  │ファイル追加│ │  │
│  │ │ .\sample\columns_output.xlsx            │  ├────────────┤ │  │
│  │ │                                         │  │フォルダ追加│ │  │
│  │ │                                         │  ├────────────┤ │  │
│  │ │                                         │  │   削除     │ │  │
│  │ │                                         │  └────────────┘ │  │
│  │ └─────────────────────────────────────────┘                  │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ ステータス                                                     │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ 待機中                                                        │  │
│  │                                                               │  │
│  │                                                               │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                       │
│                            [ 読み込み ] [ 保存 ] [ 実行 ]            │
│                                                                       │
└─────────────────────────────────────────────────────────────────────┘
```

## 主な機能

### 1. プロンプト入力エリア
- 複数行のテキスト入力が可能
- スクロール機能付き
- 日本語入力対応

### 2. オプション設定
- **作業ディレクトリ**: フォルダ参照ボタンで簡単選択
- **モデル**: ドロップダウンリストから選択
  - claude-opus-4-5-20251101
  - claude-sonnet-4-20250514
  - claude-sonnet-4-5-20241022
  - claude-haiku-4-20250116
- **自動化レベル**: low / medium / high から選択
- **ログディレクトリ**: フォルダ参照ボタンで簡単選択

### 3. 参照ファイル/フォルダ
- リストボックスで複数のファイル/フォルダを管理
- 「ファイル追加」ボタン: ファイル選択ダイアログ
- 「フォルダ追加」ボタン: フォルダ選択ダイアログ
- 「削除」ボタン: 選択項目を削除

### 4. ステータス表示
- 現在の状態を表示（待機中/実行中/完了/エラー）
- 実行ログのパス表示
- エラーメッセージ表示

### 5. 操作ボタン
- **読み込み**: prompt.jsonから設定を再読み込み
- **保存**: 現在の設定をprompt.jsonに保存（実行しない）
- **実行**: 設定を保存してDROIDを実行

## 実行時の動作

### 実行前
```
ステータス: 待機中
ボタン: すべて有効
```

### 実行中
```
ステータス: DROIDを実行中...
ボタン: すべて無効化（実行を防止）
```

### 実行完了
```
ステータス: 実行完了しました。
           ログファイル: logs/droid_20260117_123456.log
ボタン: すべて有効化
ポップアップ: 「DROIDの実行が完了しました。」
```

### エラー時
```
ステータス: エラー: [エラーメッセージ]
ボタン: すべて有効化
ポップアップ: エラーメッセージ
```

## 使用例

### ケース1: 初回起動
1. `run-droid.bat` を実行
2. GUIが起動し、既存の `prompt.json` の内容が自動的に読み込まれる
3. 必要に応じて内容を編集
4. 「実行」ボタンをクリック

### ケース2: 新規設定
1. GUIを起動
2. プロンプトを入力
3. 各オプションを設定
4. 参照ファイルを追加
5. 「保存」ボタンで設定を保存（または「実行」で保存＋実行）

### ケース3: 設定の再利用
1. GUIを起動（前回の設定が自動的に読み込まれる）
2. プロンプトのみ変更
3. 「実行」ボタンをクリック

## 技術仕様

- **フレームワーク**: tkinter（Python標準ライブラリ）
- **最小ウィンドウサイズ**: 800x700 ピクセル
- **文字エンコーディング**: UTF-8
- **設定ファイル**: prompt.json（JSON形式）
- **実行方法**: PowerShellスクリプトを呼び出し

## デザインの特徴

1. **グループ化**: 関連する項目をLabelFrameでグループ化
2. **スクロール対応**: 長いプロンプトやステータスメッセージに対応
3. **視認性**: 明確なラベルと適切な余白
4. **操作性**: ボタン配置を右下に統一
5. **フィードバック**: 実行中はボタンを無効化し、誤操作を防止
